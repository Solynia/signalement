<section [formGroup]="form" class="p-5 flex flex-col">
  <mat-form-field class="px-5 pt-5">
    <mat-label>Description</mat-label>
    <input matInput formControlName="description" />
  </mat-form-field>

  <sg-author-form formControlName="author" />

  <mat-form-field class="px-5 pb-5">
    <mat-label>Observations</mat-label>
    <mat-chip-grid
      class="mat-mdc-chip-set-stacked"
      #chipGrid
      aria-label="Saisir des observations"
      formControlName="observations"
    >
      @for (observation of observations(); track observation) {
      <mat-chip-row
      [editable]="true"
      (edited)="editObservation($event, observation)"
      (removed)="removeObservation(observation)"
      >
        {{ observation }}
        <button
          matChipRemove
          [attr.aria-label]="'Enlever observations: ' + observation"
        >
          <mat-icon>cancel</mat-icon>
        </button>
      </mat-chip-row>
      }
    </mat-chip-grid>
    <input
      placeholder="Nouvelle observation..."
      [matChipInputFor]="chipGrid"
      (matChipInputTokenEnd)="addObservation($event)"
    />
  </mat-form-field>
</section>
